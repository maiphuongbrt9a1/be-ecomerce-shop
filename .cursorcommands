# Custom Commands for be-ecomerce-shop

## /gitpush
**Purpose**: Smart git commit and push workflow with logical grouping

**Actions**:
1. Check all changed files with `git status` and `git diff`
2. Group changes into logical commits:
   - **OpenAPI/Swagger docs** (entity files, @ApiResponse updates, @ApiConsumes)
   - **New features** (new files/major functionality)
   - **Bug fixes** (fixes, error handling)
   - **Refactoring** (code improvements, renames)
   - **Config/dependencies** (package.json, nest-cli.json, tsconfig, etc.)
   - **Database/Prisma** (schema changes, migrations)
   - **Documentation** (README, comments)
3. For each group:
   - Stage related files: `git add <files>`
   - Create descriptive commit: `git commit -m "type(scope): clear description"`
   - Show what was committed
4. Push all commits: `git push origin <current-branch>`
5. Summarize what was pushed

**Commit format**: `type(scope): description`
- Types: feat, fix, refactor, style, chore, docs, build
- Examples:
  - `docs(openapi): add response types to product endpoints`
  - `docs(entities): populate Product entity with @ApiProperty decorators`
  - `feat(aws-s3): add file upload documentation for all endpoints`
  - `fix(validation): add proper DTO validation rules`
  - `refactor(controllers): improve error handling`
  - `chore(deps): update nestjs dependencies`

## /tsc
**Purpose**: Quick TypeScript check

**Actions**:
1. Run `npx tsc --noEmit`
2. If errors: show them with file locations and offer to fix
3. If clean: confirm "✓ TypeScript passes"

## /lint
**Purpose**: Run ESLint checks

**Actions**:
1. Run `npm run lint` or `yarn lint`
2. Show any linting errors
3. If errors: offer to fix with `npm run lint -- --fix`
4. If clean: confirm "✓ Linting passes"

## /test
**Purpose**: Run project tests

**Actions**:
1. Run `npm test` or `yarn test`
2. Show test results
3. If failures: offer to investigate and fix failing tests

## /test:e2e
**Purpose**: Run end-to-end tests

**Actions**:
1. Run `npm run test:e2e` or `yarn test:e2e`
2. Show test results
3. If failures: offer to investigate and fix

## /build
**Purpose**: Build the NestJS application

**Actions**:
1. Run `npm run build` or `yarn build`
2. Show build output
3. If errors: identify issues and offer solutions
4. If successful: confirm "✓ Build successful"

## /dev
**Purpose**: Start development server

**Actions**:
1. Run `npm run start:dev` or `yarn start:dev`
2. Confirm server is running
3. Show the URL (typically http://localhost:3000)

## /prisma:migrate
**Purpose**: Create and apply Prisma migrations

**Actions**:
1. Check for schema changes with `npx prisma format`
2. Create migration: `npx prisma migrate dev --name <descriptive-name>`
3. Generate Prisma Client: `npx prisma generate`
4. Show migration summary
5. Remind to commit migration files

## /prisma:studio
**Purpose**: Open Prisma Studio to view/edit database

**Actions**:
1. Run `npx prisma studio`
2. Confirm Studio is opening in browser

## /gen-docs
**Purpose**: Regenerate OpenAPI documentation

**Actions**:
1. Run `yarn gen-docs` or `npm run gen-docs`
2. Move generated file to postman directory if needed
3. Confirm "✓ OpenAPI docs regenerated at postman/openapi.json"
4. Offer to commit the changes

## /check-all
**Purpose**: Run all quality checks before push

**Actions**:
1. TypeScript check: `npx tsc --noEmit`
2. Linting: `npm run lint`
3. Tests: `npm test`
4. Build: `npm run build`
5. Show summary of all checks
6. If all pass: "✓ All checks passed - ready to push!"
7. If any fail: show which failed and offer to fix
